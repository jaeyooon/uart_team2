<meta charset="utf-8">

<style>
.img-fluid {
	width: 80%;
	height: 550px;
	border-radius: 10px;
}

#p1 {
	font-style: italic;
	font-weight: 400;
}

h6, #p2 {
	color: black;
}

#p3 {
	font-size: 14px;
}

.info_img {
	width: 45%;
	height: 600px;
	border-radius: 10px;
	margin-bottom: 50px;
}

#cancel_table {
	width: 600px;
}

#price_table {
	width: 500px;
}

#review {
	font-size: 15px;
}

#re_att {
	font-size: 13px;
	color: #c44536;
}

#item_review {
	margin-left: 10px;
	margin-top: 10px;
}

hr.two_1 {
	width: 100%;
	border: none;
	border: 1px solid #ced4da;
}

.star-ratings {
	color: #aaa9a9;
	position: relative;
	unicode-bidi: bidi-override;
	width: max-content;
	-webkit-text-fill-color: transparent;
	/* Will override color (regardless of order)
	-webkit-text-stroke-width: 1.3px;
	-webkit-text-stroke-color: #2b2a29; */
}

.star-ratings-fill {
	color: #fff58c;
	padding: 0;
	position: absolute;
	z-index: 1;
	display: flex;
	top: 0;
	left: 0;
	overflow: hidden;
	-webkit-text-fill-color: #f9c74f;
}

.star-ratings-base {
	z-index: 0;
	padding: 0;
}

.title {
	display: inline-block;
	width: 100px;
	font-weight: bold;
}

.con {
	font-weight: 500;
}

#order {
	width: 200px;
	display: flex;
	justify-content: center;
	align-items: center;
	margin-top: 200px;
	float: left;
}

#wishlist {
	display: flex;
	justify-content: center;
	align-items: center;
	margin-top: 200px;
	float: left;
	background-color: #cec2ff;
	padding: 10px;
	border-radius: 10px;
	outline: 0;
}

.btn {
	animation: bgColor 1st both;
}

@keyframes byColor {
	from {background: #cec2ff;
}

to {
	background: blue;
	color: white;
}

}
#btn {
	width: 100%;
	text-align: center;
}
</style>

<script>

function display(){
	var map;
	var lat = $('#lat').val();
	var lng = $('#lng').val(); 
	//alert(lat);
	//alert(lng);  
	  
	var mapContainer =document.querySelector('#map');
	var mapOption = { 
        center: new kakao.maps.LatLng(lat, lng), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
        level: 5 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
    };
	map = new kakao.maps.Map(mapContainer, mapOption);

	var marker = new kakao.maps.Marker({  
	     map: map,
	     position: new kakao.maps.LatLng(lat, lng),   /* ìœ„ë„ì™€ ê²½ë„ë¥¼ ì…ë ¥í•¨ìœ¼ë¡œì¨ ë„£ì–´ ì¤Œ */
	}); 
};

$(document).ready(function(){
	display();
 	$('#wishlist').click(function(){
 		$(this).toggleClass("btn");
 		var itemid = $('#itemid').text();
		//alert(itemid);
		var custid = '[[${session.logincust.custid}]]';
		//alert(custid);
		$.ajax({
			url:'[[@{/addwishlist}]]',
			data:{
				'custid':custid,
				'itemid':itemid
				},
				success:function(data){
					
				}
		});
	});
 	
 	$('#review_btn').click(function(){
		var custid = '[[${session.logincust.custid}]]';
		var itemid = $('#itemid').text();
		var reviewgrade = $('#reviewgrade').val();
		var reviewcontent = $('#reviewcontent').val();
		location.href="[[@{/registerreview?custid=}]]"+custid+"&[[@{itemid=}]]"+itemid+"&[[@{reviewgrade=}]]"+reviewgrade+"&[[@{reviewcontent=}]]"+reviewcontent;
	});
});
</script>

<head>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<!-- bootstrap tab template -->
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>

</head>

<body>

	<div class="site-section">
		<div class="container">
			<div class="row">
				<div class="col-md-6">
					<img th:src="'/img/'+${itemdetail.itemimg}" alt="Image"
						class="img-fluid">
				</div>
				<div class="col-md-6">
					<h2 class="text-black" th:text="${itemdetail.itemname}"></h2>
					<p></p>
					<hr class="two_1">
					<span id="itemid" th:text="${itemdetail.itemid}" name="itemid"
						style="display: none"></span><br>
					<sapn class="title">ì¥ì†Œ</sapn>
					<span class="con" th:text="${itemdetail.itemplace}"></span><br>
					<span class="title">ê¸°ê°„</span>
					<span class="con"
						th:text="${#dates.format(itemdetail.estart, 'yyyy.MM.dd')} + '&nbsp;~&nbsp;' + ${#dates.format(itemdetail.efin, 'yyyy.MM.dd')}"
						name="itemid"></span><br> <span class="title">ê´€ëŒë“±ê¸‰</span><span
						class="con" th:text="${itemdetail.itemguide}"></span>
					<hr style="color: black">
					<span class="title">ê°€ê²©</span><span class="con"
						th:text="${itemdetail.itemoption_obj1} +'ê¶Œ '+ ${#numbers.formatInteger(itemdetail.itemoption_price1, 3,'COMMA')}+'ì›'"></span><br>
					<span class="title"></span><span class="con"
						th:text="${itemdetail.itemoption_obj2} +'ê¶Œ '+ ${#numbers.formatInteger(itemdetail.itemoption_price2, 3,'COMMA')}+'ì›'"></span><br>
					<span class="title"></span><span class="con"
						th:text="${itemdetail.itemoption_obj3} +'ê¶Œ '+ ${#numbers.formatInteger(itemdetail.itemoption_price3, 3,'COMMA')}+'ì›'"></span>


					<div id="btn">
						<div style="display: inline-block">
							<a id="order"
								th:href="@{/itemoption(itemid=${itemdetail.itemid})}"
								class="buy-now btn btn-sm btn-primary"><strong>ì˜ˆë§¤í•˜ê¸°</strong></a>
						</div>
						<div class="star" style="display: inline-block">
							<button id="wishlist" class="btn btn-primary btn-xs">
								<span style="color: white" class="material-symbols-outlined">
									favorite </span>
							</button>
						</div>
					</div>
				</div>
			</div>

			<!-- tab ë©”ë‰´ --------------------------------------------------------------->
			<nav>
				<br> <br> <br> <br>
				<div class="nav nav-tabs" id="nav-tab" role="tablist">
					<button class="nav-link active" id="nav-one-tab"
						data-bs-toggle="tab" data-bs-target="#nav-one" type="button"
						role="tab" aria-controls="nav-one" aria-selected="true">ìƒì„¸ì •ë³´</button>
					&nbsp;&nbsp;
					<button class="nav-link" id="nav-two-tab" data-bs-toggle="tab"
						data-bs-target="#nav-two" type="button" role="tab"
						aria-controls="nav-two" aria-selected="false">í•œì¤„í‰</button>
					&nbsp;&nbsp;
					<button class="nav-link" id="nav-three-tab" data-bs-toggle="tab"
						data-bs-target="#nav-three" type="button" role="tab"
						aria-controls="nav-three" aria-selected="false">ì˜¤ì‹œëŠ” ê¸¸</button>
					&nbsp;&nbsp;
					<button class="nav-link" id="nav-four-tab" data-bs-toggle="tab"
						data-bs-target="#nav-four" type="button" role="tab"
						aria-controls="nav-four" aria-selected="false">ì˜ˆë§¤/ì·¨ì†Œì•ˆë‚´</button>
				</div>
			</nav>
			<div class="tab-content" id="nav-tabContent">
				<div class="tab-pane fade show active" id="nav-one" role="tabpanel"
					aria-labelledby="nav-one-tab">
					<br> <br>
					<h3>Exhibition Information</h3>
					<br> <br>
					<p id="p1">ë©‹ì§„ ì „ì‹œë¥¼ U-ARTì—ì„œ ë§Œë‚˜ë³´ì„¸ìš”</p>
					<br> <br>
					<h6 th:text="'â–¶ì „ì‹œëª…: &nbsp;   ' + ${itemdetail.itemname}">â–¶ì „ì‹œëª…:</h6>
					<br> <img th:src="'/img/'+${itemdetail.itemimg}" alt="Image"
						class="info_img">
					<h6 th:text="'â–¶ì „ì‹œì¥ì†Œ: &nbsp;   ' + ${itemdetail.itemplace}">â–¶ì „ì‹œì¥ì†Œ:</h6>
					<br>
					<h6 th:text="'â–¶ì „ì‹œê´€ëŒë“±ê¸‰: &nbsp;   ' + ${itemdetail.itemguide}">â–¶ì „ì‹œê´€ëŒë“±ê¸‰:</h6>
					<br>
					<h6 th:text="'â–¶í‹°ì¼“ìˆ˜ë ¹ë°©ë²•: &nbsp;   ' + ${itemdetail.itemticket}">â–¶í‹°ì¼“ìˆ˜ë ¹ë°©ë²•:</h6>
					<br>
					<h6
						th:text="'â–¶ì „ì‹œê¸°ê°„: &nbsp;   ' + ${#dates.format(itemdetail.estart, 'yyyy.MM.dd')} + '&nbsp;~&nbsp;' + ${#dates.format(itemdetail.efin, 'yyyy.MM.dd')}">â–¶ì „ì‹œì¼ì •:</h6>
					<br>
					<h6 th:text=" 'â–¶ìš”ê¸ˆì•ˆë‚´: &nbsp;  ' "></h6>

					<table class="table table-bordered" id="price_table">
						<thead>
							<tr>
								<th>ë¶„ë¥˜</th>
								<th>ê¸°ì¤€</th>
								<th>í‹°ì¼“ê°€ê²©</th>
							</tr>
						</thead>

						<tbody>
							<tr>
								<td th:text="${itemdetail.itemoption_obj1}">ì„±ì¸</td>
								<td>20ì„¸ ì´ìƒ</td>
								<td th:text="${#numbers.formatInteger(itemdetail.itemoption_price1, 3,'COMMA')}+'ì›'">ê°€ê²©</td>
							</tr>
							<tr>
								<td th:text="${itemdetail.itemoption_obj2}">ì²­ì†Œë…„</td>
								<td>14ì„¸-19ì„¸</td>
								<td th:text="${#numbers.formatInteger(itemdetail.itemoption_price2, 3,'COMMA')}+'ì›'">ê°€ê²©</td>
							</tr>
							<tr>
								<td th:text="${itemdetail.itemoption_obj3}">ì•„ë™</td>
								<td>13ì„¸ ì´í•˜</td>
								<td th:text="${#numbers.formatInteger(itemdetail.itemoption_price3, 3,'COMMA')}+'ì›'">ê°€ê²©</td>
							</tr>
							
						</tbody>
					</table>


				</div>
				<div class="tab-pane fade" id="nav-two" role="tabpanel"
					aria-labelledby="nav-two-tab">
					<br>
					<h6 style="color: grey">ê²Œì‹œíŒ ìš´ì˜ê·œì •ì— ë§ì§€ ì•ŠëŠ” ê¸€ì€ ì‚¬ì „ í†µë³´ì—†ì´ ì‚­ì œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</h6>
					<div class="container">
						<details>
							<summary id="re_att" style="font-weight: bold"> ë¶€ì •ì´ìš©
								ê·œì œì•ˆë‚´</summary>
							<div id="review">
								ê²Œì‹œíŒ ìš´ì˜ ì •ì±… ìœ„ë°°ì‹œ ì‚¬ì „ í†µë³´ ì—†ì´ ê²Œì‹œê¸€ì„ ì‚­ì œí•˜ê±°ë‚˜ ë¸”ë¼ì¸ë“œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br> <br>
								1. í‹°ì¼“ ë§¤ë§¤ ë° ì–‘ë„ ê´€ë ¨ ê¸€ì¼ ê²½ìš° <br>2. ê²Œì‹œíŒ ìš´ì˜ ëª©ì ì— ë°˜í•˜ê±°ë‚˜ ì´ë²¤íŠ¸ ë‹¹ì²¨ì„ ìœ„í•´,
								ë‹¨ì–´ ë˜ëŠ” ë¬¸ì¥ì„ ë°˜ë³µì ìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ë„ë°°ì„± ê²Œì‹œê¸€ì´ë¼ê³  íŒë‹¨ë˜ëŠ” ê²½ìš°<br> 3. ì „í™”ë²ˆí˜¸, ì´ë©”ì¼,
								ì£¼ì†Œ ë“± íšŒì› ë° íƒ€ì¸ì˜ ê°œì¸ì •ë³´ ìœ ì¶œì´ ìš°ë ¤ë˜ëŠ” ê²½ìš°<br> 4. í•´ë‹¹ ìƒí’ˆê³¼ ê´€ë ¨ì´ ì—†ê±°ë‚˜ ê²Œì‹œíŒì˜
								ì„±ê²©ì— ë§ì§€ ì•ŠëŠ”ë‹¤ê³  íŒë‹¨ë˜ëŠ” ê²½ìš°<br> 5. íƒ€íšŒì› ë° ì œ 3ìì˜ ê¶Œë¦¬ë‚˜ ê°œì¸ì •ë³´, ëª…ì˜ˆ, ì‹ ìš©, ê¸°íƒ€
								ì •ë‹¹í•œ ì´ìµì„ ì¹¨í•´í•˜ëŠ” ë‚´ìš©ì„ í¬í•¨í•˜ëŠ” ê²½ìš°<br> 6. ì˜ë„ì ìœ¼ë¡œ ì•…ì„± ê²Œì‹œê¸€ì´ë‚˜, ê³µê³µì§ˆì„œë‚˜ ë¯¸í’ì–‘ì†ì—
								ìœ„ë°°ë˜ëŠ” ìš•ì„¤, ì €ì†, ìŒë€ ë‚´ìš©ì„ í¬í•¨í•˜ëŠ” ê²½ìš°<br> 7. í™ë³´ ë° ê´‘ê³ ì„± ë‚´ìš©ì„ í¬í•¨í•˜ëŠ” ê²½ìš°

							</div>
						</details>
						<br>


					</div>
					<div class=reviews>
						<h3>Reviews</h3>
									<form id="review_form" method="post">
                        	<div class="col-2 mb-3"></div><div id="itemid" th:text="${itemid}" style="display:none"></div>
                        	   <div>
                        	      <span class="input-group-addon">â­ * </span><select name="reviewgrade" id="reviewgrade">
                        	    <option value="0.5" data-icon="img/star.5.png">0.5</option>
                        	    <option value="1.0">1.0</option>
                        	    <option value="1.5">1.5</option>
                        	    <option value="2.0">2.0</option>
                        	    <option value="2.5">2.5</option>
                        	    <option value="3.0">3.0</option>
                        	    <option value="3.5">3.5</option>
                        	    <option value="4.0">4.0</option>
                        	    <option value="4.5">4.5</option>
                        	    <option value="5.0">5.0</option>
                        	    </select>
                        	    </div>
                        	    
                            <textarea id="reviewcontent" name="text" style="width:500px;"  placeholder='ê´€ëŒí›„ê¸°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!'></textarea><br>
                        </form>
                        <button type="button" id="review_btn" class="btn btn-primary btn-xs">âœë“±ë¡</button><br><br>
						<form id="itemreview_form" th:each="re : ${review}">
							<div>
								<div class="star-ratings">
									<div name="${re.reviewgrade}"
										class="star-ratings-fill space-x-4 text-lg"
										th:style="${'width:'+re.reviewgrade*20+'%'}">
										<span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span>
									</div>
									<div class="star-ratings-base space-x-4 text-lg">
										<span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span>
									</div>
								</div>
							</div>

							<p style="color: black" th:text="${re.reviewcontent}"
								name="reviewcontent"></p>

							<p
								th:text="${re.custid} + ' ğŸ™‹â€â™€ï¸ğŸ™‹â€â™‚ | ' + ${#dates.format(re.reviewdate,'yy.MM.dd')}"
								name="reviewdate"></p>
							<hr class="two_1">
						</form>
					</div>
				</div>
				<div class="tab-pane fade" id="nav-three" role="tabpanel" 
					aria-labelledby="nav-three-tab">
					<br>
					<h5>ìœ„ì¹˜</h5>
				  		 <div id="map" style="width:600px;height:500px;"></div>
							<input id="lat" type="hidden" th:value="${itemdetail.lat}" readonly="readonly"> 
							<input id="lng" type="hidden" th:value="${itemdetail.lng}" readonly="readonly">
						<p>â–¶ ì°¾ì•„ì˜¤ì‹œëŠ” ê¸¸</p>
             		    <input id="address" type="hidden" th:text="${itemdetail.itemplace_address}" readonly="readonly">
				</div>
				<div class="tab-pane fade" id="nav-four" role="tabpanel"
					aria-labelledby="nav-four-tab">
					<br><br>
					<h4>ì˜ˆë§¤/ì·¨ì†Œì•ˆë‚´</h4>
					<br> <br>
					<h5>í‹°ì¼“ ìˆ˜ë ¹ì•ˆë‚´</h5>
					<p id="p2">
						â–¶ì˜¨ë¼ì¸ìˆ˜ë ¹<br> í‹°ì¼“ ì˜ˆë§¤ í™•ì¸ í›„ ì˜ˆë§¤ì‹œ ì…ë ¥í•˜ì‹  ì—°ë½ì²˜ë¡œ í‹°ì¼“ì´ ë°œì†¡ë©ë‹ˆë‹¤.<br> ì˜ˆë§¤ í›„
						1ì¼ ì´ë‚´ì— ìˆ˜ë ¹ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
					</p>
					<br> <br>
					<h5>ì˜ˆë§¤ ì·¨ì†Œì•ˆë‚´</h5>
					<p id="p2">
						â–¶ì·¨ì†Œì‹œ ì£¼ì˜ì‚¬í•­<br> í‹°ì¼“ ì˜ˆë§¤ í›„ 7ì¼ ì´ë‚´ì— ì·¨ì†Œì‹œ, ì·¨ì†Œìˆ˜ìˆ˜ë£Œê°€ ì—†ìŠµë‹ˆë‹¤.<br> ë‹¨, ì˜ˆë§¤
						í›„ 7ì¼ ì´ë‚´ë¼ë„ ì·¨ì†Œ ì‹œì ì´ ì „ì‹œ ì‹œì‘ì¼ë¡œë¶€í„° 7ì¼ì´ë‚´ë¼ë©´ 50%ë§Œ í™˜ë¶ˆë©ë‹ˆë‹¤.
					</p>
					<br>
					<p id="p2">â–¶ì·¨ì†Œí™˜ë¶ˆ ê·œì •</p>

					<table class="table table-bordered" id="dataTable">
						<thead>
							<tr>
								<th>ê¸°ì¤€</th>
								<th>í™˜ë¶ˆê¸ˆì•¡</th>
							</tr>
						</thead>

						<tbody>
							<tr>
								<td>ì˜ˆë§¤ í›„ 7ì¼ ì´ë‚´</td>
								<td>ì „ì•¡í™˜ë¶ˆ</td>
							</tr>
							<tr>
								<td>ì „ì‹œ ì‹œì‘ì¼ ì „ 7ì¼ ì´ë‚´</td>
								<td>í‹°ì¼“ê¸ˆì•¡ì˜ 50%í™˜ë¶ˆ</td>
							</tr>

						</tbody>
					</table>

				</div>
			</div>
			<!-- tad end -->

		</div>
	</div>

</body>
</html>